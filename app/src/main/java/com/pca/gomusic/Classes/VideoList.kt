package com.pca.gomusic.Classesimport android.content.Contextimport android.media.ThumbnailUtilsimport android.provider.MediaStoreimport com.pca.gomusic.ModelClass.VideoViewInfoimport java.util.*import kotlin.collections.ArrayListclass VideoList  {    companion object {        fun getVideoList(context: Context): ArrayList<VideoViewInfo> {            val videos = ArrayList<VideoViewInfo>()                val mediaColumns = arrayOf(MediaStore.Video.Media._ID, MediaStore.Video.Media.DATA, MediaStore.Video.Media.TITLE, MediaStore.Video.Media.SIZE)                val contentResolver = Objects.requireNonNull(context).contentResolver                val uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI                val cursor = contentResolver.query(uri, mediaColumns, MediaStore.Video.Media._ID, null, MediaStore.Video.Media.DATE_ADDED + " DESC")                if (cursor != null && cursor.moveToFirst()) {                    do {                        val newVVI = VideoViewInfo()                        newVVI.filePath = cursor.getString(cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA))                        newVVI.title = cursor.getString(cursor.getColumnIndexOrThrow(MediaStore.Video.Media.TITLE))                        newVVI.thumbPath = ThumbnailUtils.createVideoThumbnail(newVVI.filePath, MediaStore.Video.Thumbnails.FULL_SCREEN_KIND)                        newVVI.size = cursor.getLong(cursor.getColumnIndex(MediaStore.Video.Media.SIZE))                        videos.add(newVVI)                    } while (cursor.moveToNext())                    cursor.close()                }            return videos        }    }}